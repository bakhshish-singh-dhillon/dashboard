<div class="filters">
  <div class="search">
    <input type="text" name="search" id="search" [(ngModel)]="searchQuery" (ngModelChange)="searchCountries()"/>
  </div>
  <div>
    <label *ngFor="let head of tableHeads; index as i" for="header-{{ i }}">
      {{ head.name }}
      <input
        id="header-{{ i }}"
        type="checkbox"
        name="head"
        [(ngModel)]="tableHeads[i].checked"
      />
    </label>
  </div>
</div>
<div class="inner-container">
  <table>
    <tr>
      @for (head of tableHeads; track $index) { @if (head.checked) {
      <th (click)="sortCountries(head.name)">{{ head.name }}</th>
      } }
    </tr>
    <tr *ngFor="let country of countries.slice(paginate.current*paginate.pageSize,paginate.next*paginate.pageSize); index as i">
      @for (head of tableHeads; track $index) { @if (head.checked) {
      <td>{{ country[head.name] }}</td>
      } }
    </tr>
  </table>
</div>
<div class="pagination">
    @if(paginate.prev>-1){
        <span (click)="prevPage()">&lt;</span>
    }
    {{paginate.current+1}}
    @if(paginate.next*paginate.pageSize<this.countries.length){
        <span (click)="nextPage()">&gt;</span>
    }
</div>
